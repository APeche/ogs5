set(CPACK_PACKAGE_DESCRIPTION_SUMMARY "OGS-5")
set(CPACK_PACKAGE_VENDOR "OpenGeoSys Community (http://www.opengeosys.org)")
set(CPACK_PACKAGE_INSTALL_DIRECTORY "OGS-${OGS_VERSION}")
set(CPACK_PACKAGE_DESCRIPTION_FILE "${CMAKE_SOURCE_DIR}/README.md")
set(CPACK_RESOURCE_FILE_LICENSE "${CMAKE_SOURCE_DIR}/LICENSE.txt")

if(APPLE)
	string(REGEX MATCH "(^[0-9]*)" TMP ${CMAKE_SYSTEM_VERSION})
	math(EXPR OSX_VERSION_MINOR "${CMAKE_MATCH_1} - 4")
	set(CPACK_PACKAGE_FILE_NAME
		"ogs-${OGS_VERSION}-OSX-10.${OSX_VERSION_MINOR}-x${BITS}")
	set(CPACK_SOURCE_PACKAGE_FILE_NAME ${CPACK_PACKAGE_FILE_NAME})
else()
	set(CPACK_PACKAGE_FILE_NAME "ogs-${OGS_VERSION}-${CMAKE_SYSTEM}-x${BITS}")
endif()

if(WIN32)
	include(packaging/PackagingWin)
endif()
if(UNIX)
	include(packaging/PackagingLinux)
endif()
if(APPLE)
	include(packaging/PackagingMac)
endif()

set(CPACK_COMPONENT_OGS_DISPLAY_NAME "Executable")
set(CPACK_COMPONENT_OGS_DESCRIPTION "The command line executable")
set(CPACK_COMPONENT_MSVC_REDIST_DISPLAY_NAME "C++ Redistributable")
set(CPACK_COMPONENT_MSVC_REDIST_DESCRIPTION "Microsoft Visual C++ Redistributable")

set(CPACK_COMPONENTS_ALL_IN_ONE_PACKAGE 1)
set(CPACK_PACKAGE_EXECUTABLES "ogs" "OGS Command Line")
set(CPACK_COMPONENTS_ALL ${CPACK_COMPONENTS_ALL} ogs Unspecified)

include (CPack)
